*minesweeper.txt*  Minesweeper for Vim9

================================================================================
CONTENTS                                            *minesweeper-contents*

  1. Introduction .......................... |minesweeper-intro|
  2. Installation .......................... |minesweeper-install|
  3. Commands ............................. |minesweeper-commands|
  4. Controls ............................. |minesweeper-controls|
  5. Game Rules ........................... |minesweeper-rules|
  6. Configuration ........................ |minesweeper-config|
  7. Vim9 Script Features ................. |minesweeper-vim9|

================================================================================
1. INTRODUCTION                                     *minesweeper-intro*

Minesweeper is a classic logic puzzle game implemented in Vim9script. Reveal
safe cells by deducing which cells contain mines based on the numbers revealed.
Each number tells you how many mines are adjacent to that cell. Flag all mines
correctly to win the game.

The game runs in a centered popup window and supporting three difficulty levels
(Easy, Medium, Hard) with customizable board dimensions and mine counts.

================================================================================
2. INSTALLATION                                    *minesweeper-install*

Requirements~

This plugin requires Vim 9.0 or later with Vim9 script support enabled.
It will not work with Neovim or older versions of Vim.

Installation~

Using Git~
If you have git installed, run the following command in your terminal:

    Unix/Linux/macOS: >
      git clone https://github.com/yegappan/minesweeper.git ~/.vim/pack/downloads/opt/minesweeper
<
    Windows (cmd.exe): >
      git clone https://github.com/yegappan/minesweeper.git %USERPROFILE%\vimfiles\pack\downloads\opt\minesweeper
<
Using a ZIP file~
If you prefer not to use Git:

    Unix/Linux/macOS:
    1. Create the destination directory: >

	 mkdir -p ~/.vim/pack/downloads/opt/
<
    2. Download the plugin ZIP file from GitHub and extract its contents into
       the directory created above.

       *Note:* GitHub usually names the extracted folder minesweeper-main.
       Rename it to minesweeper so the final path looks like this: >

	 ~/.vim/pack/downloads/opt/minesweeper/
	 ├── plugin/
	 ├── autoload/
	 └── doc/
<
    Windows (cmd.exe):
    1. Create the destination directory: >

	 if not exist "%USERPROFILE%\vimfiles\pack\downloads\opt" mkdir "%USERPROFILE%\vimfiles\pack\downloads\opt"
<
    2. Download the plugin ZIP file from GitHub and extract its contents into
       that directory.

       *Note:* Rename the extracted folder (usually minesweeper-main) to
       minesweeper so the path matches: >

	 %USERPROFILE%\vimfiles\pack\downloads\opt\minesweeper\
	 ├── plugin/
	 ├── autoload/
	 └── doc/

Finalizing Setup~
Since this plugin is installed in the opt (optional) directory, it will not
load automatically. Add the following line to your .vimrc (Unix) or _vimrc
(Windows): >

    packadd minesweeper
<
After adding the line, restart Vim and run the following command to enable the
help documentation: >

    :helptags ALL
<
Plugin Manager Installation~

If using a plugin manager like vim-plug, add to your .vimrc or init.vim:
>
    Plug 'path/to/minesweeper'
<
Then run `:PlugInstall` and `:helptags ALL`

For other plugin managers (Vundle, Pathogen, etc.), follow their standard
installation procedures for local plugins.

================================================================================
3. COMMANDS                                       *minesweeper-commands*

:Minesweeper
    Start a game with the default difficulty (Medium).

:MinesweeperEasy
    Start an easy game (smaller board, fewer mines).

:MinesweeperMedium
    Start a medium difficulty game.

:MinesweeperHard
    Start a hard game (larger board, more mines).

================================================================================
4. CONTROLS                                        *minesweeper-controls*

Movement:
  h or <Left>     Move left
  j or <Down>     Move down
  k or <Up>       Move up
  l or <Right>    Move right

Actions:
  <Space> or      Reveal the current cell
  <Enter>
  f               Toggle flag on the current cell
  r               Restart the game with the same difficulty
  q or <Esc>      Quit the game

================================================================================
5. GAME RULES                                      *minesweeper-rules*

Objective~
Reveal all non-mine cells without detonating any mines. Flag all mines
correctly to win.

How to Play~
1. Start with a hidden grid of cells
2. Reveal cells by pressing <Space> or <Enter>
3. Each revealed cell shows:
   • A number (1-8): count of adjacent mines
   • Empty: no adjacent mines
   • Mine: game over (you lose)
4. Use the numbers to deduce where mines are located
5. Flag suspected mines with 'f' to mark them safely
6. Win by revealing all non-mine cells

Win Condition~
Reveal all non-mine cells and flag all mines correctly.

Lose Condition~
Reveal a cell containing a mine.

Difficulty Levels~

Easy:     Small board with few mines (fewer logical deductions needed)
Medium:   Standard board with moderate mine density
Hard:     Large board with many mines (requires careful analysis)

================================================================================
6. CONFIGURATION                                   *minesweeper-config*

You can customize the game board before starting by setting these variables:

g:minesweeper_width                             *g:minesweeper_width*
    Width of the game board in cells. Default: depends on difficulty

g:minesweeper_height                            *g:minesweeper_height*
    Height of the game board in cells. Default: depends on difficulty

g:minesweeper_mines                             *g:minesweeper_mines*
    Number of mines on the board. Default: depends on difficulty

Example:
>
    let g:minesweeper_width = 16
    let g:minesweeper_height = 16
    let g:minesweeper_mines = 40
    :Minesweeper
<

================================================================================
7. VIM9 SCRIPT FEATURES                          *minesweeper-vim9*

This plugin demonstrates several modern Vim9script capabilities:

Classes~
  • Board: Grid state management and mine placement
  • MinesweeperGame: Core game logic and turn progression
  • GameUI: Popup window management and rendering

Type System~
  • Type annotations for all function parameters and return types
  • Enums for cell states (Hidden, Revealed, Flagged, Mine)
  • Enums for difficulty levels (Easy, Medium, Hard)
  • Type aliases for board representation

Algorithms~
  • Randomization for mine placement across the board
  • Flood-fill algorithm for auto-revealing adjacent empty cells
  • Constraint-based flagging based on numeric clues
  • Win condition validation (all non-mines revealed)

Features~
  • Popup windows for centered, clean UI
  • Dynamic board sizing based on difficulty level
  • Efficient mine revelation with automatic cascading
  • Type-safe input handling and board validation
  • Modular architecture separating game logic from UI

Design Patterns~
  • Singleton pattern for game instance management
  • Model-View separation for clean architecture
  • Factory pattern for difficulty-based board creation
  • State machine for game phases (Setup, Playing, GameOver)

================================================================================

vim:tw=78:ts=8:ft=help:norl:
